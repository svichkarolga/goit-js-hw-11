{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixaby-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["\nconst BASE_URL = 'https://pixabay.com/api';\n\nexport const fetchPhotos = searchedQuery => {\n\n    const urlParams = new URLSearchParams({\n        key: '45436198-db4764fd7ddf19e0d061d1cf8',\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(\n        `${BASE_URL}/?${urlParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nexport const createGalleryCardTemplate = (pictureInfo) => {\n    return ` <li class=\"gallery-card\">\n                <a class=\"gallery-link\" href=\"${pictureInfo.largeImageURL}\">\n                    <img class=\"gallery-img\"\n                    src=\"${pictureInfo.webformatURL}\" \n                    data-source=\"${pictureInfo.largeImageURL}\"\n                    alt=\"${pictureInfo.tags}\"\n                    />\n                </a>\n                <div class=\"wrapper\">\n                    <ul class=\"img-content-wrapper\">\n\t\t\t\t\t    <li class=\"text-info\">Likes<span class=\"number\">${pictureInfo.likes}</span></li>\n\t\t\t\t\t    <li class=\"text-info\">Views<span class=\"number\">${pictureInfo.views}</span></li>\n\t\t\t\t\t    <li class=\"text-info\">Comments<span class=\"number\">${pictureInfo.comments}</span></li>\n\t\t\t\t\t    <li class=\"text-info\">Downloads<span class=\"number\">${pictureInfo.downloads}</span></li>\n                    </ul>\n                </div>\n            </li>`\n\n};\n \n\n\n","import iziToast from \"izitoast\";\nimport { fetchPhotos } from \"./js/pixaby-api\";\nimport { createGalleryCardTemplate } from \"./js/render-function\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nconst searchForm = document.querySelector(\".js-search-form\");\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\nconsole.log(loader)\nfunction showLoader() {\n    loader.classList.remove('is-hidden');\n}\nfunction hideLoader() {\n    loader.classList.add('is-hidden');\n}\n\nshowLoader();\nsetTimeout(hideLoader, 2000);\n\nfunction onSearch(event) {\n    event.preventDefault();\n    const searchedValue = searchForm.elements.user_query.value;\n    \n    if (searchedValue === \"\") {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'Input field must not be empty',\n            position: 'topLeft',\n        });\n        return; // Перериваємо виконання функції, якщо поле порожнє\n    }\n\n    fetchPhotos(searchedValue).then(data => {\n        console.log(data);\n        if (!data.hits.length) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'bottomRight',\n            });\n            galleryEl.innerHTML = '';\n        \n            return;\n        }\n        const galleryCardsTemplate = data.hits.map(imgDetails => createGalleryCardTemplate(imgDetails)).join('');\n        galleryEl.innerHTML = galleryCardsTemplate;\n        console.log(galleryCardsTemplate);\n    \n        const light = new SimpleLightbox('.js-gallery a', {\n            overlay: true,\n            captionsData: 'alt',\n            overlayOpacity: 0.8,\n            captionDelay: 250,\n            focus: true,\n        })\n        light.refresh();\n        searchForm.reset();\n        console.log(light);\n    })\n        .catch(err => {\n            iziToast.error({\n                title: 'Error',\n                message: 'Illegal operation',\n            });\n        });\n}\nsearchForm.addEventListener('submit', onSearch);    \n\n\n\n\n\n   \n   \n\n\n\n\n\n\n"],"names":["BASE_URL","fetchPhotos","searchedQuery","urlParams","response","createGalleryCardTemplate","pictureInfo","searchForm","galleryEl","loader","showLoader","hideLoader","onSearch","event","searchedValue","iziToast","data","galleryCardsTemplate","imgDetails","light","SimpleLightbox","err"],"mappings":"6vBACA,MAAMA,EAAW,0BAEJC,EAAcC,GAAiB,CAExC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MACH,GAAGF,CAAQ,KAAKG,CAAS,EAAE,EAC1B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECjBaC,EAA6BC,GAC/B;AAAA,gDACqCA,EAAY,aAAa;AAAA;AAAA,2BAE9CA,EAAY,YAAY;AAAA,mCAChBA,EAAY,aAAa;AAAA,2BACjCA,EAAY,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2DAKgBA,EAAY,KAAK;AAAA,2DACjBA,EAAY,KAAK;AAAA,8DACdA,EAAY,QAAQ;AAAA,+DACnBA,EAAY,SAAS;AAAA;AAAA;AAAA,mBCZ9EC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAC/C,QAAQ,IAAIA,CAAM,EAClB,SAASC,GAAa,CAClBD,EAAO,UAAU,OAAO,WAAW,CACvC,CACA,SAASE,GAAa,CAClBF,EAAO,UAAU,IAAI,WAAW,CACpC,CAEAC,IACA,WAAWC,EAAY,GAAI,EAE3B,SAASC,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAgBP,EAAW,SAAS,WAAW,MAErD,GAAIO,IAAkB,GAAI,CACtBC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,gCACT,SAAU,SACtB,CAAS,EACD,MACH,CAEDd,EAAYa,CAAa,EAAE,KAAKE,GAAQ,CAEpC,GADA,QAAQ,IAAIA,CAAI,EACZ,CAACA,EAAK,KAAK,OAAQ,CACnBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,aAC1B,CAAa,EACDP,EAAU,UAAY,GAEtB,MACH,CACD,MAAMS,EAAuBD,EAAK,KAAK,IAAIE,GAAcb,EAA0Ba,CAAU,CAAC,EAAE,KAAK,EAAE,EACvGV,EAAU,UAAYS,EACtB,QAAQ,IAAIA,CAAoB,EAEhC,MAAME,EAAQ,IAAIC,EAAe,gBAAiB,CAC9C,QAAS,GACT,aAAc,MACd,eAAgB,GAChB,aAAc,IACd,MAAO,EACnB,CAAS,EACDD,EAAM,QAAO,EACbZ,EAAW,MAAK,EAChB,QAAQ,IAAIY,CAAK,CACzB,CAAK,EACI,MAAME,GAAO,CACVN,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBACzB,CAAa,CACb,CAAS,CACT,CACAR,EAAW,iBAAiB,SAAUK,CAAQ"}